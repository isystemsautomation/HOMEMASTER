<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HomeMaster MicroPLC (ESP32)</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER@bf912f279d00d1d7edf16119a36063f46923eb04/productpage/styles.css">
</head>
<body>
<!-- FIXED: corrected nesting, removed stray text, added ESPHome mention in HERO, and consolidated cable/shield guidance into one bottom section -->
<div class="hm-plc">
  <div class="plc-wrap">

    <!-- ===================== HERO / OVERVIEW ===================== -->
    <div class="plc-section plc-hero plc-hero--v2">
      <div class="plc-grid plc-hero-grid">
        <!-- LEFT -->
        <div class="plc-copy">
          <h2><strong>HomeMaster MicroPLC (ESP32)</strong></h2>

          <p>
            The <strong>HomeMaster MicroPLC</strong> is a professional, open-source DIN rail controller built around the ESP32 platform, designed for robust and scalable smart automation in residential, commercial, and light industrial environments. It combines industrial digital inputs, relay outputs, RS-485 communication, real-time clock functionality, and USB programming interface.
          </p>

          <p>
            Engineered for reliability and flexibility, the MicroPLC supports 24 V DC industrial power input and features an integrated RS-485 Modbus interface for expansion with compatible industrial I/O modules and field devices. Its local processing capability ensures continued operation even when network or cloud connectivity is lost, making it suitable for mission-critical applications.
          </p>

          <p>
            This controller operates as a complete standalone automation system using its onboard relay and digital input channels, while also offering seamless expansion via the RS-485 bus to connect additional industrial modules for automation, monitoring, and control. It provides a versatile, ready-to-integrate platform for HVAC control, energy management, security systems, lighting automation, and custom industrial applications.
          </p>
        </div>

        <!-- RIGHT -->
        <div class="plc-rail">
          <div class="plc-img plc-heroimg">
            <img
              src="https://www.home-master.eu/web/image/2603-10f4cd8c/description4.png?access_token=c944a202-78c6-40aa-a2e3-1422acf391bc"
              alt="HomeMaster MicroPLC DIN-rail ESP32 industrial controller"
              loading="lazy"
              width="800"
              height="600"
              decoding="async"
            >
            <div class="plc-caption">
              DIN rail • 24 V DC • ESP32 • Modbus RTU • Home Assistant
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- =================== /HERO =================== -->

    <!-- ===================== QUICK OVERVIEW + APPLICATIONS ===================== -->
    <div class="plc-section">
      <div class="plc-grid plc-hero-grid">
        <!-- LEFT: Quick Overview -->
        <div class="plc-copy">
          <h2 id="quick-overview"><strong>Quick Overview</strong></h2>
          <ul class="plc-list plc-list--tight">
            <li><strong>ESP32 industrial controller platform</strong></li>
            <li>Industrial <strong>DIN-rail form factor</strong> with 24 V DC supply</li>
            <li>Runs <strong>locally and offline</strong> without cloud dependency</li>
            <li><strong>Expandable</strong> via RS-485 Modbus field devices</li>
          </ul>
        </div>

        <!-- RIGHT: Typical Applications -->
        <div class="plc-copy">
          <h2 id="typical-applications"><strong>Typical Applications</strong></h2>
          <ul class="plc-list plc-list--tight">
            <li>Industrial automation controller</li>
            <li>HVAC automation and plant control</li>
            <li>Energy management systems</li>
            <li>Industrial I/O controller</li>
            <li>Building management systems (BMS)</li>
            <li>SCADA edge controller</li>
            <li>RS-485 Modbus master / field gateway</li>
          </ul>
        </div>
      </div>
    </div>
    <!-- =================== /QUICK OVERVIEW + APPLICATIONS =================== -->

    <!-- ===================== TECH SPECS ===================== -->
    <div class="plc-section">
      <h2 id="tech-specs"><strong>Tech Specs</strong></h2>

      <div class="plc-tablewrap">
        <table class="table table-bordered o_table">
          <caption>Technical Specifications</caption>
          <thead>
            <tr><th scope="col">Specification</th><th scope="col">Details</th></tr>
          </thead>
          <tbody>
            <tr><th scope="row">Microcontroller</th><td>ESP32-WROOM-32U (dual-core)</td></tr>
            <tr>
              <th scope="row">Power Input</th>
              <td>24 V DC nominal (24VDC)</td>
            </tr>
            <tr><th scope="row">Digital Inputs</th><td>1 × isolated 24 V digital input (ISO1212 receiver)</td></tr>
            <tr>
              <th scope="row">Relay Outputs</th>
              <td>1 × SPDT relay (HF115F-005-1ZS3)</td>
            </tr>
            <tr><th scope="row">Temperature Inputs</th><td>1-Wire interface supported</td></tr>
            <tr>
              <th scope="row">User Interface</th>
              <td>1 button, status LEDs</td>
            </tr>
            <tr><th scope="row">Wi-Fi</th><td>Integrated Wi-Fi (ESP32)</td></tr>
            <tr>
              <th scope="row">RS-485</th>
              <td>RS-485 Modbus RTU (MAX485 transceiver, half-duplex)</td>
            </tr>
            <tr><th scope="row">Storage</th><td>Internal ESP32 flash</td></tr>
            <tr><th scope="row">USB</th><td>USB-C programming interface via CP2102N USB-UART bridge</td></tr>
            <tr><th scope="row">RTC</th><td>PCF8563 RTC with CR2032 battery backup</td></tr>
          </tbody>
        </table>
      </div>

    </div>

    <!-- ===================== INSTALLATION, ENVIRONMENTAL & MECHANICAL ===================== -->
    <div class="plc-section">
      <h2 id="installation-environment-dimensions">
        <strong>Installation, Environmental &amp; Mechanical</strong>
      </h2>

      <!-- CONSOLIDATED TABLE -->
      <div class="plc-tablewrap">
        <table class="table table-bordered o_table">
          <caption>Installation, Environmental &amp; Mechanical Specifications</caption>
          <thead>
            <tr>
              <th scope="col">Category</th>
              <th scope="col">Specification</th>
              <th scope="col">Details</th>
            </tr>
          </thead>
          <tbody>

            <!-- Terminal Specifications -->
            <tr><th scope="row" rowspan="6">Terminal Specifications</th>
                <td>Terminal type</td>
                <td>Pluggable screw terminal blocks, 5.08 mm pitch</td></tr>
            <tr><td>Terminal pitch</td><td>5.08 mm</td></tr>
            <tr><td>Wire cross-section</td><td>0.2–2.5 mm² (AWG 24–12)</td></tr>
            <tr><td>Conductor type</td><td>Solid or stranded copper</td></tr>
            <tr><td>Stranded wire</td><td>Ferrules recommended</td></tr>
            <tr><td>Tightening torque</td><td>0.4 Nm (max)</td></tr>

            <!-- Environmental Ratings -->
            <tr><th scope="row" rowspan="6">Environmental Ratings</th>
                <td>Operating temperature</td><td>0 °C to +40 °C</td></tr>
            <tr><td>Storage temperature</td><td>-10 °C to 55 °C</td></tr>
            <tr><td>Relative humidity</td><td>0–90 % RH, non-condensing</td></tr>
            <tr><td>Ingress protection</td><td><strong>IP20</strong> (inside cabinet)</td></tr>
            <tr><td>Installation</td>
                <td>Indoor control cabinet only; not for outdoor or exposed installation</td></tr>
            <tr><td>Terminal protection</td>
                <td>All wiring terminals must be protected against accidental contact</td></tr>

            <!-- Mechanical / Packaging -->
            <tr><th scope="row" rowspan="8">Mechanical &amp; Packaging</th>
                <td>Product dimensions</td>
                <td><strong>157.4 × 91 × 58.4 mm</strong>
                    (6.2 × 3.58 × 2.3 in) (L × W × H)</td></tr>
            <tr><td>DIN units</td><td>9 division units (≈ 90 mm DIN rail mounting width)</td></tr>
            <tr><td>Mounting</td><td>35 mm DIN rail</td></tr>
            <tr><td>Net weight</td><td>300 g</td></tr>
            <tr><td>Gross weight</td><td>450 g</td></tr>
            <tr><td>Pack size</td>
                <td>230 × 140 × 87 mm (9 × 5.5 × 3.4 in) (L × W × H)</td></tr>
            <tr><td>Mechanical drawing</td>
                <td>Front + side views with DIN-clip depth (see below)</td></tr>
            <tr><td>Notes</td>
                <td>All dimensions shown in millimeters unless stated otherwise</td></tr>

          </tbody>
        </table>
      </div>

            <!-- KEEP ORIGINAL TEXT BELOW (MOVED, NOT DELETED) -->
      <div class="plc-text-preserved">

        <p>
          Install only inside a control cabinet with ventilation; the cabinet must include a protective front plate covering all module connection terminals and a closing protective door; not for outdoor or exposed installation.
        </p>

        <p>
          <strong>All wiring terminals must be protected against accidental contact by an insulating front plate, wiring duct, or terminal cover. Exposed live terminals are not permitted.</strong>
        </p>
      </div>

      <!-- KEEP THE EXISTING DRAWING -->
      <figure class="plc-figure">
        <img
          src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/dimension.png"
          alt="HomeMaster MiniPLC mechanical drawing (front and side view) with dimensions in mm"
          width="620"
          loading="lazy"
          decoding="async"
          style="max-width: 620px; width: 100%; height: auto; display: block;"
        >
        <figcaption class="plc-figcap">
          Mechanical drawing: front view + side view + DIN-clip depth (all dimensions in mm).
        </figcaption>
      </figure>
    </div>

    <!-- ===================== HOME ASSISTANT / ESPHOME ===================== -->
    <div class="plc-section">
      <h2 id="home-assistant-esphome-integration"><strong>Home Assistant &amp; ESPHome Integration</strong></h2>

      <div class="plc-grid">
        <!-- Left: text -->
        <div>
          <p>
            The MiniPLC comes with <strong>ESPHome pre-installed</strong> and can be integrated directly into
            Home Assistant without flashing custom firmware.
          </p>

          <h3 id="quick-setup-process"><strong>Quick Setup Process (Improv Wi-Fi)</strong></h3>
          <ol class="plc-steps">
            <li><strong>Mount &amp; Power</strong> – Install on a 35mm DIN rail and connect power.</li>
            <li><strong>Open Improv</strong> – Go to <a href="https://improv-wifi.com" target="_blank" rel="noopener">improv-wifi.com</a>.</li>
            <li><strong>Connect</strong> – Use USB-C (Serial) or Bluetooth LE.</li>
            <li><strong>Enter Wi-Fi</strong> – Input SSID and password, then press Connect.</li>
            <li><strong>Auto-Discovery</strong> – Device appears in Home Assistant &amp; ESPHome Dashboard.</li>
          </ol>

          <h3 id="one-click-import"><strong>One-Click Import (ESPHome Dashboard)</strong></h3>
          <p>
            Once connected to Wi-Fi, the MiniPLC is automatically discovered in the ESPHome Dashboard.
            Click <strong>“Take Control”</strong> to import the official configuration directly from GitHub.
          </p>

          <h3 id="usb-type-c-manual-flashing"><strong>USB Type-C Manual Flashing (Optional)</strong></h3>
          <ol class="plc-steps">
            <li>Connect the MiniPLC to your computer using USB Type-C.</li>
            <li>
              Download the official YAML configuration:
              <a href="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Firmware/miniplc.yaml" target="_blank" rel="noopener">
                miniplc.yaml
              </a>
            </li>
            <li>Open ESPHome Dashboard and import the YAML file.</li>
            <li>Update Wi-Fi credentials in the YAML.</li>
            <li>Flash directly from ESPHome (no reset or boot buttons required).</li>
            <li>The device reboots automatically and runs the new firmware.</li>
          </ol>

          <ul class="plc-list">
            <li>No firmware flashing required for basic use</li>
            <li>Native Home Assistant API</li>
            <li>OTA updates supported</li>
            <li>Automatic ESPHome dashboard import</li>
            <li>Full YAML customization</li>
          </ul>
        </div>

        <!-- Right: image -->
        <div class="plc-img">
          <img
            src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/improv.png"
            alt="ESPHome Improv WiFi setup flow"
            loading="lazy"
            width="600"
            height="400"
            decoding="async"
          >
        </div>
      </div>
    </div>

    <!-- ===================== DOCUMENTATION ===================== -->
    <div class="plc-section plc-docs">
      <h2 id="documentation"><strong>Documentation</strong></h2>
      <p class="plc-docs-intro">
        The MiniPLC is open-source hardware. You can build your own board using the files below.
      </p>

      <!-- Card: Hardware -->
      <div class="plc-docs-card">
        <div class="plc-docs-cardhead">
          <h3 class="plc-docs-title" id="hardware-design-files">Hardware Design Files</h3>
        </div>

        <div class="plc-tablewrap">
          <table class="table o_table plc-docs-table">
            <thead>
              <tr>
                <th scope="col">File</th>
                <th scope="col">Description</th>
                <th class="plc-docs-linkcol" scope="col">Link</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">Schematic (MCU Board)</th>
                <td>Main controller board schematic</td>
                <td class="plc-docs-linkcol">
                  <a class="plc-docs-link plc-docs-link--pdf" href="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Schematic/MCU_Board.pdf" target="_blank" rel="noopener">
                    MCU_Board.pdf
                  </a>
                </td>
              </tr>
              <tr>
                <th scope="row">Schematic (Relay Board)</th>
                <td>Relay and power section schematic</td>
                <td class="plc-docs-linkcol">
                  <a class="plc-docs-link plc-docs-link--pdf" href="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Schematic/Relay_Board.pdf" target="_blank" rel="noopener">
                    Relay_Board.pdf
                  </a>
                </td>
              </tr>
              <tr>
                <th scope="row">Schematic (USB Board)</th>
                <td>USB-C interface and power management</td>
                <td class="plc-docs-linkcol">
                  <a class="plc-docs-link plc-docs-link--pdf" href="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Schematic/USB_Board.pdf" target="_blank" rel="noopener">
                    USB_Board.pdf
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Card: Firmware -->
      <div class="plc-docs-card">
        <div class="plc-docs-cardhead">
          <h3 class="plc-docs-title" id="firmware-software">Firmware &amp; Software</h3>
        </div>

        <div class="plc-tablewrap">
          <table class="table o_table plc-docs-table">
            <thead>
              <tr>
                <th scope="col">Resource</th>
                <th scope="col">Description</th>
                <th class="plc-docs-linkcol" scope="col">Link</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">Default ESPHome Config</th>
                <td>Pre-configured YAML for Home Assistant</td>
                <td class="plc-docs-linkcol">
                  <a class="plc-docs-link plc-docs-link--yml" href="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Firmware/miniplc.yaml" target="_blank" rel="noopener">
                    miniplc.yaml
                  </a>
                </td>
              </tr>
              <tr>
                <th scope="row">Firmware Source Code</th>
                <td>Latest firmware builds and source</td>
                <td class="plc-docs-linkcol">
                  <a class="plc-docs-link plc-docs-link--folder" href="https://github.com/isystemsautomation/HOMEMASTER/tree/main/MiniPLC/Firmware/" target="_blank" rel="noopener">
                    Firmware/
                  </a>
                </td>
              </tr>
              <tr>
                <th scope="row">ESPHome Integration Guide</th>
                <td>Complete setup instructions</td>
                <td class="plc-docs-linkcol">
                  <a class="plc-docs-link plc-docs-link--md" href="https://github.com/isystemsautomation/HOMEMASTER/tree/main/MiniPLC/README.md" target="_blank" rel="noopener">
                    README.md
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Card: Manuals -->
      <div class="plc-docs-card">
        <div class="plc-docs-cardhead">
          <h3 class="plc-docs-title" id="manuals-datasheets">Manuals &amp; Datasheets</h3>
        </div>

        <div class="plc-tablewrap">
          <table class="table o_table plc-docs-table">
            <thead>
              <tr>
                <th scope="col">Document</th>
                <th scope="col">Description</th>
                <th class="plc-docs-linkcol" scope="col">Link</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">Datasheet</th>
                <td>Technical specifications and ratings</td>
                <td class="plc-docs-linkcol">
                  <a class="plc-docs-link plc-docs-link--pdf" href="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Manuals/Datasheet.pdf" target="_blank" rel="noopener">
                    Datasheet.pdf
                  </a>
                </td>
              </tr>
              <tr>
                <th scope="row">User Manual</th>
                <td>Installation and configuration guide</td>
                <td class="plc-docs-linkcol">
                  <a class="plc-docs-link plc-docs-link--pdf" href="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Manuals/User_Manual.pdf" target="_blank" rel="noopener">
                    User_Manual.pdf
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <p class="plc-docs-footer">
        All design files and documentation are available in the
        <a href="https://github.com/isystemsautomation/HOMEMASTER/tree/main/MiniPLC" target="_blank" rel="noopener">
          HomeMaster GitHub repository
        </a>.
      </p>
    </div>

    <!-- ===================== POWER SUPPLY ===================== -->
    <div class="plc-section">
      <h2 id="power-supply"><strong>Power Supply</strong></h2>

      <div class="plc-alert plc-alert--danger" role="alert">
        <strong>⚠️ Hazardous voltage:</strong> Terminals <strong>L / N</strong> may carry mains AC or high-voltage DC.
        Wiring must be performed by qualified personnel. Disconnect power before wiring or servicing.
        Provide external overcurrent protection per local electrical code.
      </div>

      <p class="plc-caption plc-callout plc-callout--warning" style="margin-top:8px;">
        <strong>⚠️ Critical:</strong> Exactly <strong>ONE</strong> power input method may be used at a time.
        <strong>V+ / 0V</strong> and <strong>L / N</strong> must <strong>never</strong> be connected simultaneously.
      </p>

      <p>
        MiniPLC supports <strong>one</strong> power input method at a time:
        <strong>24&nbsp;V DC nominal</strong> on <strong>V+ / 0V</strong> (recommended) <em>or</em>
        <strong>Mains AC / High-Voltage DC</strong> on <strong>L / N</strong> via the onboard isolated power module.
      </p>

      <p>
        <strong>When to use which:</strong>
        <strong>24&nbsp;V DC</strong> is recommended when available, as it is safer and simpler to install.
        <strong>Mains AC / High-Voltage DC</strong> on <strong>L / N</strong> is for installations where 24&nbsp;V DC is not available
        and must be installed by qualified personnel in accordance with local electrical codes.
      </p>

      <p class="plc-caption plc-callout plc-callout--warning" style="margin-top:8px;">
        <strong>⚠️ Safety reminder:</strong> When using <strong>L / N</strong> terminals for mains AC or high-voltage DC,
        ensure all power is disconnected before any wiring work. Installation and maintenance must be carried out by
        qualified personnel in accordance with local electrical codes, including proper overcurrent protection.
      </p>

      <h3 id="power-input-specifications"><strong>Power Input Specifications</strong></h3>
      <div class="plc-tablewrap">
        <table class="table table-bordered o_table">
          <caption>Power Input Specifications</caption>
          <thead>
            <tr>
              <th scope="col">Input Option</th>
              <th scope="col">Terminals</th>
              <th scope="col">Range</th>
              <th scope="col">Notes</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">24&nbsp;V DC (recommended)</th>
              <td>V+ / 0V</td>
              <td>24&nbsp;V DC</td>
              <td>Preferred for most installations. Powers internal rail <strong>+24VDC_FUSED</strong>.</td>
            </tr>
            <tr>
              <th scope="row">Mains AC</th>
              <td>L / N</td>
              <td>85–265&nbsp;V AC, 47–63&nbsp;Hz</td>
              <td>Uses onboard isolated module to generate the internal 24&nbsp;V rail. External protection required.</td>
            </tr>
            <tr>
              <th scope="row">High-Voltage DC</th>
              <td>L / N (+ / −)</td>
              <td>120–370&nbsp;V DC</td>
              <td>Uses onboard isolated module to generate the internal 24&nbsp;V rail. External protection required.</td>
            </tr>
          </tbody>
        </table>
      </div>

      <hr class="plc-hr">

      <!-- ===================== 24V DC SECTION ===================== -->
      <h3 id="24v-dc-input"><strong>24&nbsp;V DC Input (V+ / 0V)</strong></h3>

      <ul class="plc-list">
        <li><strong>Typical operating current:</strong> <strong>150&nbsp;mA @ 24&nbsp;V</strong> (≈ <strong>3.6&nbsp;W</strong>) — measured typical device power consumption</li>
        <li><strong>Internal rail:</strong> 24&nbsp;V input is conditioned into <strong>+24VDC_FUSED</strong></li>
        <li><strong>Input protection:</strong> surge suppression (TVS), EMI filtering, reverse-polarity / power-path protection</li>
        <li><strong>Internal service fuse:</strong> <strong>1.0&nbsp;A</strong> (soldered) — service replacement required if blown</li>
        <li><strong>Upstream protection (recommended):</strong> external <strong>0.5&nbsp;A</strong> slow-blow fuse or <strong>0.5&nbsp;A</strong> breaker on <strong>V+</strong>
          so the external device clears before the internal service fuse. Recommended for 24&nbsp;V DC installations to protect wiring and simplify troubleshooting.</li>
      </ul>

      <div class="plc-grid">
        <div class="plc-col">
          <div class="plc-wirecard">
            <img
              src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/wiring_ps_dc.png"
              alt="Wiring example: 24 V DC connected to V+ and 0V"
              loading="lazy"
              width="600"
              height="400"
              decoding="async"
            >
            <div class="plc-caption">
              Connect <strong>+</strong> to <strong>V+</strong> and <strong>−</strong> to <strong>0V</strong>.
            </div>
          </div>
        </div>

        <div class="plc-col">
          <div class="plc-wirecard">
            <div class="plc-caption" style="margin-top:0;">
              <strong>Installation checklist</strong>
            </div>
            <ul class="plc-list" style="margin-top:8px;">
              <li>Use a regulated <strong>24&nbsp;V DC</strong> supply</li>
              <li>Install <strong>0.5&nbsp;A</strong> fuse/breaker upstream of <strong>V+</strong></li>
              <li>Observe polarity: <strong>V+ / 0V</strong></li>
              <li>Route power wiring away from low-level analog signal wiring</li>
            </ul>
          </div>
        </div>
      </div>

      <hr class="plc-hr">

      <!-- ===================== MAINS / HVDC SECTION ===================== -->
      <h3 id="mains-ac-high-voltage-dc-input"><strong>Mains AC / High-Voltage DC Input (L / N)</strong></h3>

      <p class="plc-caption" style="margin-top:8px;">
        The onboard isolated power module generates the internal <strong>24&nbsp;V</strong> rail from
        <strong>85–265&nbsp;V AC</strong> or <strong>120–370&nbsp;V DC</strong> on <strong>L / N</strong>.
      </p>

        <p class="plc-caption plc-callout plc-callout--warning" style="margin-top:8px;">
        <strong>Mandatory upstream protection (L / N):</strong>
        install an external <strong>T0.5&nbsp;A (slow-blow) fuse</strong> or <strong>0.5&nbsp;A breaker</strong> upstream.
        Increase rating only if required by local code or to prevent nuisance trips due to inrush.
        External protection is <strong>required</strong> for mains AC / high-voltage DC installations due to safety regulations and the higher fault current available from these sources.
      </p>

      <div class="plc-grid">
        <div class="plc-col">
          <div class="plc-wirecard">
            <div class="plc-caption" style="margin-top:0;">
              <strong>85–265&nbsp;V AC (L / N)</strong>
            </div>

            <img
              src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/wiring_ps_ac1.png"
              alt="Wiring example: 85–265 V AC to L and N with external fuse/breaker"
              loading="lazy"
              style="margin-top:8px;"
              width="600"
              height="400"
              decoding="async"
            >

            <ul class="plc-list" style="margin-top:10px;">
              <li><strong>Input:</strong> 85–265&nbsp;V AC, 47–63&nbsp;Hz</li>
              <li><strong>Qualified personnel only</strong></li>
              <li><strong>External fuse/breaker required</strong></li>
            </ul>
          </div>
        </div>

        <div class="plc-col">
          <div class="plc-wirecard">
            <div class="plc-caption" style="margin-top:0;">
              <strong>120–370&nbsp;V DC (L / N + / −)</strong>
            </div>

            <img
              src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/wiring_ps_ac2.png"
              alt="Wiring example: 120–370 V DC on L/N terminals with polarity as marked and external fuse/breaker"
              loading="lazy"
              style="margin-top:8px;"
              width="600"
              height="400"
              decoding="async"
            >

            <ul class="plc-list" style="margin-top:10px;">
              <li><strong>Input:</strong> 120–370&nbsp;V DC</li>
              <li>Observe polarity where marked on <strong>L / N</strong></li>
              <li><strong>External fuse/breaker required</strong></li>
            </ul>
          </div>
        </div>
      </div>

      <div class="plc-tablewrap" style="margin-top:14px;">
        <table class="table table-bordered o_table">
          <caption>Onboard Isolated Power Module</caption>
          <thead>
            <tr>
              <th scope="col" colspan="2">Onboard Isolated Power Module</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row" width="35%">Type</th>
              <td>Isolated AC/DC power module</td>
            </tr>
            <tr>
              <th scope="row">Input</th>
              <td>85–265&nbsp;V AC (47–63&nbsp;Hz) or 120–370&nbsp;V DC</td>
            </tr>
            <tr>
              <th scope="row">Output</th>
              <td>24&nbsp;V DC auxiliary rail — maximum capacity <strong>220&nbsp;mA</strong> (power module rating, not typical device draw)</td>
            </tr>
            <tr>
              <th scope="row">Protection</th>
              <td>Overcurrent, short-circuit, thermal shutdown with auto-recovery</td>
            </tr>
          </tbody>
        </table>

        <p class="plc-caption" style="margin-top:10px;">
          <strong>Current draw clarification:</strong>
          The <strong>150&nbsp;mA</strong> figure is the typical operating current drawn by the MiniPLC device itself.
          The <strong>220&nbsp;mA</strong> figure is the maximum output capacity rating of the onboard isolated power module.
          Current is drawn by the load (the MiniPLC); the higher number represents the module's capacity limit, not additional current consumption.
        </p>

        <p class="plc-caption plc-callout plc-callout--info" style="margin-top:10px;">
          <strong>Important:</strong> Use only one input method at a time:
          <strong>V+/0V</strong> or <strong>L/N</strong>.
        </p>
      </div>
    </div>

    <!-- ===================== INPUTS & OUTPUTS ===================== -->
    <div class="plc-section">
      <h2 id="inputs-outputs"><strong>Inputs &amp; Outputs</strong></h2>

      <!-- -------- DI -------- -->
      <h3 id="digital-inputs"><strong>Digital Inputs (4 channels)</strong></h3>
      <div class="plc-tablewrap">
        <table class="table table-bordered o_table">
          <caption>Digital Inputs (4 channels)</caption>
          <thead>
            <tr>
              <th scope="col">Channel</th>
              <th scope="col">Pin</th>
              <th scope="col">Type</th>
              <th scope="col">Voltage</th>
              <th scope="col">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">DI #1</th>
              <td>GPIO36</td>
              <td>Sourcing</td>
              <td>24&nbsp;V DC</td>
              <td>Isolated 24&nbsp;V digital input with internal field supply, dry contact</td>
            </tr>
            <tr>
              <th scope="row">DI #2</th>
              <td>GPIO39</td>
              <td>Sourcing</td>
              <td>24&nbsp;V DC</td>
              <td>Isolated 24&nbsp;V digital input with internal field supply, dry contact</td>
            </tr>
            <tr>
              <th scope="row">DI #3</th>
              <td>GPIO34</td>
              <td>Sourcing</td>
              <td>24&nbsp;V DC</td>
              <td>Isolated 24&nbsp;V digital input with internal field supply, dry contact</td>
            </tr>
            <tr>
              <th scope="row">DI #4</th>
              <td>GPIO35</td>
              <td>Sourcing</td>
              <td>24&nbsp;V DC</td>
              <td>Isolated 24&nbsp;V digital input with internal field supply, dry contact</td>
            </tr>
          </tbody>
        </table>
      </div>

      <p><strong>Features:</strong></p>
      <ul>
        <li>4× isolated 24&nbsp;V DC digital inputs using ISO1212 digital input receivers</li>
        <li>Internal fused 24&nbsp;V field supply for dry-contact sensing</li>
        <li>Sourcing-type inputs for passive devices (relay contacts, open-collector outputs)</li>
        <li>Separate field ground and logic ground domains</li>
        <li>Per-channel protection with resettable PTC fuses and TVS surge suppression</li>
        <li>Integrated EMI and noise filtering on each input</li>
        <li>Configurable input inversion and debounce filtering via ESPHome</li>
        <li>Status monitoring via Home Assistant binary sensors</li>
      </ul>

      <div class="plc-grid">
        <div class="plc-col">
          <div class="plc-wirecard">
            <img
              src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/wiring_DI_2.png"
              alt="Wiring example: dry contact wiring to DI inputs"
              loading="lazy"
              width="600"
              height="400"
              decoding="async"
            >
            <div class="plc-caption">Wiring example: dry contact wiring to DI inputs.</div>
          </div>
        </div>
        <div class="plc-col">
          <div class="plc-wirecard">
            <img
              src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/wiring_DI_3.png"
              alt="Wiring example: shared common wiring approach"
              loading="lazy"
              width="600"
              height="400"
              decoding="async"
            >
            <div class="plc-caption">Wiring example: shared common wiring approach.</div>
          </div>
        </div>
      </div>

      <hr class="plc-hr">

      <!-- ===================== RELAY OUTPUTS ===================== -->
      <div class="plc-subsection">
        <h3 id="relay-outputs"><strong>Relay Outputs</strong></h3>

        <p>
          The MiniPLC provides <strong>6 SPDT mechanical relays (HF115F/005-1ZS3)</strong> for switching AC or DC loads.
          Each relay exposes <strong>NO / NC / COM</strong> contacts and is driven via optocoupler-isolated control circuitry.
        </p>

        <p>
          <strong>System/board rating:</strong> <strong>3 A MAX per output</strong> (system limit).
          The MiniPLC board/system can safely carry ONLY 3 A per relay output.
          Using more than 3 A directly can overheat and permanently damage the board.
        </p>

        <p>
          <strong>Relay contact (component) rating:</strong> 12 A @ 250 V AC (resistive).
          <strong>This value belongs ONLY to the relay component itself and is NOT usable as a system output rating.</strong>
          The MiniPLC must NOT be used above 3 A.
        </p>

        <p>
          <strong>Loads above 3 A (or inductive/inrush loads) MUST be switched using an external contactor or power relay.</strong>
          The MiniPLC relay may be used as a control signal for the external contactor.
          Do not attempt to switch loads above 3 A directly through the MiniPLC relay outputs.
        </p>

        <p class="plc-callout plc-callout--warning">
          <strong>⚠️ External protection required:</strong>
          Every relay output MUST be protected by an external fuse or circuit breaker (max 3 A per channel).
          Relay output circuits are <strong>not internally fused</strong>.
          External overcurrent protection is mandatory for safe operation.
        </p>

        <h4 id="relay-specifications"><strong>Relay Specifications</strong></h4>
        <div class="plc-tablewrap">
          <table class="table table-bordered o_table">
            <caption>Relay Specifications</caption>
            <thead>
              <tr>
                <th scope="col">Channel</th>
                <th scope="col">Control Pin</th>
                <th scope="col">Type</th>
                <th scope="col">Rating</th>
                <th scope="col">Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Relay #1</td>
                <td>PCF8574B:2</td>
                <td>SPDT</td>
                <td>12A @ 250V AC (relay component rating, NOT usable as system output)<br>3 A MAX per output (board/system limit)</td>
                <td>General purpose relay output 1 (NO/NC/COM)</td>
              </tr>
              <tr>
                <td>Relay #2</td>
                <td>PCF8574B:1</td>
                <td>SPDT</td>
                <td>12A @ 250V AC (relay component rating, NOT usable as system output)<br>3 A MAX per output (board/system limit)</td>
                <td>General purpose relay output 2 (NO/NC/COM)</td>
              </tr>
              <tr>
                <td>Relay #3</td>
                <td>PCF8574B:0</td>
                <td>SPDT</td>
                <td>12A @ 250V AC (relay component rating, NOT usable as system output)<br>3 A MAX per output (board/system limit)</td>
                <td>General purpose relay output 3 (NO/NC/COM)</td>
              </tr>
              <tr>
                <td>Relay #4</td>
                <td>PCF8574A:6</td>
                <td>SPDT</td>
                <td>12A @ 250V AC (relay component rating, NOT usable as system output)<br>3 A MAX per output (board/system limit)</td>
                <td>General purpose relay output 4 (NO/NC/COM)</td>
              </tr>
              <tr>
                <td>Relay #5</td>
                <td>PCF8574A:5</td>
                <td>SPDT</td>
                <td>12A @ 250V AC (relay component rating, NOT usable as system output)<br>3 A MAX per output (board/system limit)</td>
                <td>General purpose relay output 5 (NO/NC/COM)</td>
              </tr>
              <tr>
                <td>Relay #6</td>
                <td>PCF8574A:4</td>
                <td>SPDT</td>
                <td>12A @ 250V AC (relay component rating, NOT usable as system output)<br>3 A MAX per output (board/system limit)</td>
                <td>General purpose relay output 6 (NO/NC/COM)</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h4 id="relay-wiring-examples"><strong>Relay Wiring Examples</strong></h4>
        <div class="plc-grid">
          <div class="plc-col">
            <div class="plc-wirecard">
              <img
                src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/wiring_relays1.png"
                alt="Relay wiring example NO and NC contacts"
                loading="lazy"
                width="600"
                height="400"
                decoding="async"
              >
              <div class="plc-caption">
                Example wiring using <strong>Normally Open (NO)</strong> and
                <strong>Normally Closed (NC)</strong> relay contacts.
              </div>
            </div>
          </div>

          <div class="plc-col">
            <div class="plc-wirecard">
              <ul class="plc-list">
                <li>Each relay has <strong>COM / NO / NC</strong> terminals</li>
                <li>Use <strong>NO</strong> for default OFF loads</li>
                <li>Use <strong>NC</strong> for default ON loads</li>
                <li>⚡ Loads may carry hazardous voltage</li>
                <li>Supports AC and DC switching (DC and inductive loads require derating)</li>
              </ul>

              <p class="plc-caption plc-callout plc-callout--warning" style="margin-top:10px;">
                <strong>⚠️ External protection rule:</strong>
                Every relay output MUST be protected by an external fuse or circuit breaker.
                The rated current of the protective device shall not exceed
                <strong>3 A MAX per output</strong> (board/system limit).
              </p>

              <p class="plc-caption plc-callout plc-callout--warning" style="margin-top:6px;">
                <strong>⚠️ Common protection warning:</strong>
                If a <strong>single common fuse or circuit breaker</strong> is used to protect
                multiple relay outputs (as shown in the wiring example),
                the protective device <strong>shall NOT be sized by summing relay outputs</strong>.
                The rating of the common protective device shall not exceed
                <strong>3 A MAX per output</strong> (board/system limit).
              </p>

              <p class="plc-caption" style="margin-top:6px;">
                For inductive or DC loads (contactors, solenoids, motors),
                use appropriate suppression (RC snubbers, MOVs, or flyback diodes).
                Loads exceeding the recommended PCB current limit shall be switched
                using external contactors or wiring methods that bypass PCB copper paths.
              </p>
            </div>
          </div>
        </div>
      </div>

      <hr class="plc-hr">

      <!-- ===================== ANALOG I/O ===================== -->
      <div class="plc-subsection">
        <h3 id="analog-io"><strong>Analog I/O (0–10V)</strong></h3>

        <p>
          MiniPLC provides <strong>4 analog inputs</strong> and <strong>1 analog output</strong> with a standard <strong>0–10V</strong> signal range.
          Use these channels for common sensors, transmitters, and control devices that accept/produce 0–10V signals.
        </p>

        <h4 id="analog-inputs-ai"><strong>Analog Inputs (AI) — 4 Channels</strong></h4>

        <h4 id="analog-input-specifications"><strong>Analog Input Specifications</strong></h4>
        <div class="plc-tablewrap">
          <table class="table table-bordered o_table">
            <caption>Analog Input Specifications</caption>
            <thead>
              <tr>
                <th scope="col">Channel</th>
                <th scope="col">Signal Range</th>
                <th scope="col">Resolution</th>
                <th scope="col">Description</th>
              </tr>
            </thead>
            <tbody>
              <tr><th scope="row">AI #1</th><td>0–10V</td><td>16-bit</td><td>Analog input 1</td></tr>
              <tr><th scope="row">AI #2</th><td>0–10V</td><td>16-bit</td><td>Analog input 2</td></tr>
              <tr><th scope="row">AI #3</th><td>0–10V</td><td>16-bit</td><td>Analog input 3</td></tr>
              <tr><th scope="row">AI #4</th><td>0–10V</td><td>16-bit</td><td>Analog input 4</td></tr>
            </tbody>
          </table>
        </div>

        <h4 id="analog-input-wiring"><strong>Analog Input Wiring</strong></h4>
        <div class="plc-grid">
          <div class="plc-col">
            <div class="plc-wirecard">
              <img
                src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/wiring_ai1.png"
                alt="Analog input wiring example (0–10V sensors with common power supply)"
                loading="lazy"
                width="600"
                height="400"
                decoding="async"
              >
              <div class="plc-caption">
                Example: multiple 0–10V sensors powered from a shared supply (PS) with common 0V/GND.
              </div>
            </div>
          </div>

          <div class="plc-col">
            <div class="plc-wirecard">
              <h5 id="wiring-checklist-ai"><strong>Wiring Checklist (AI)</strong></h5>
              <ul class="plc-list" style="margin-top:8px;">
                <li><strong>Signal:</strong> 0–10V</li>
                <li><strong>Reference:</strong> connect sensor <strong>0V</strong> to <strong>AI GND</strong></li>
                <li>Use a <strong>shared 0V/common ground</strong> between sensors and MiniPLC</li>
                <li>For long runs, use a <strong>twisted pair</strong> (Signal + GND)</li>
                <li>Keep analog wiring away from relay outputs and mains/AC wiring</li>
              </ul>
            </div>
          </div>
        </div>

        <hr class="plc-hr">

        <h4 id="analog-output-ao"><strong>Analog Output (AO) — 1 Channel</strong></h4>

        <h4 id="analog-output-specifications"><strong>Analog Output Specifications</strong></h4>
        <div class="plc-tablewrap">
          <table class="table table-bordered o_table">
            <caption>Analog Output Specifications</caption>
            <thead>
              <tr>
                <th scope="col">Channel</th>
                <th scope="col">Signal Range</th>
                <th scope="col">Resolution</th>
                <th scope="col">Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">AO #1</th>
                <td>0–10V</td>
                <td>12-bit (4096 steps)</td>
                <td>Analog output for control signals</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h4 id="analog-output-wiring"><strong>Analog Output Wiring</strong></h4>
        <div class="plc-grid">
          <div class="plc-col">
            <div class="plc-wirecard">
              <img
                src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/wiring_ao1.png"
                alt="Analog output wiring example (0–10V)"
                loading="lazy"
                width="600"
                height="400"
                decoding="async"
              >
              <div class="plc-caption">
                Example: 0–10V analog output connection to an external device.
              </div>
            </div>
          </div>

          <div class="plc-col">
            <div class="plc-wirecard">
              <h5 id="wiring-checklist-ao"><strong>Wiring Checklist (AO)</strong></h5>
              <ul class="plc-list" style="margin-top:8px;">
                <li><strong>Signal:</strong> 0–10V</li>
                <li><strong>Reference ground:</strong> <strong>AO GND</strong></li>
                <li>Use a <strong>twisted pair</strong> (AO + AO GND) for long runs</li>
                <li>Keep AO wiring away from power switching and motor/VFD cables</li>
                <li class="plc-caption" style="list-style: none; margin-left:-18px; margin-top:10px;">
                  Typical use cases: analog setpoints (VFD speed), valve/actuator positioning, controller reference signals.
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <hr class="plc-hr">

      <!-- ===================== TEMPERATURE INPUTS ===================== -->
      <div class="plc-subsection">
        <h3 id="temperature-inputs"><strong>Temperature Inputs</strong></h3>

        <p>
          MiniPLC supports <strong>RTD sensors</strong> (PT100/PT1000) and <strong>1-Wire temperature sensors</strong> (DS18B20 or compatible)
          for reliable cabinet and process temperature monitoring.
        </p>

        <h4 id="temperature-input-specifications"><strong>Temperature Input Specifications</strong></h4>
        <div class="plc-tablewrap">
          <table class="table table-bordered o_table">
            <caption>Temperature Input Specifications</caption>
            <thead>
              <tr>
                <th scope="col">Type</th>
                <th scope="col">Channel</th>
                <th scope="col">Sensor / Interface</th>
                <th scope="col">Range</th>
                <th scope="col">Accuracy</th>
              </tr>
            </thead>
            <tbody>
              <tr><th scope="row">RTD</th><td>RTD #1</td><td>PT100/PT1000 (SPI front-end)</td><td>-200°C to +850°C</td><td>±0.5°C typical</td></tr>
              <tr><th scope="row">RTD</th><td>RTD #2</td><td>PT100/PT1000 (SPI front-end)</td><td>-200°C to +850°C</td><td>±0.5°C typical</td></tr>
              <tr><th scope="row">1-Wire</th><td>BUS #1</td><td>DS18B20 (or compatible)</td><td>-55°C to +125°C</td><td>±0.5°C</td></tr>
              <tr><th scope="row">1-Wire</th><td>BUS #2</td><td>DS18B20 (or compatible)</td><td>-55°C to +125°C</td><td>±0.5°C</td></tr>
            </tbody>
          </table>
        </div>

        <h4><strong>Wiring Examples</strong></h4>
        <div class="plc-grid">
          <div class="plc-col">
            <div class="plc-wirecard">
              <img
                src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/wiring_1wire2.png"
                alt="1-Wire wiring example"
                loading="lazy"
                width="600"
                height="400"
                decoding="async"
              >
              <div class="plc-caption">1-Wire wiring example.</div>
            </div>
          </div>

          <div class="plc-col">
            <div class="plc-wirecard">
              <img
                src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/wiring_rtd4.png"
                alt="RTD wiring example: 4-wire circuit"
                loading="lazy"
                width="600"
                height="400"
                decoding="async"
              >
              <div class="plc-caption">RTD wiring example (4-wire).</div>
            </div>
          </div>
        </div>

        <div class="plc-grid" style="margin-top:10px;">
          <div class="plc-col">
            <div class="plc-wirecard">
              <img
                src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/wiring_rtd1.png"
                alt="RTD wiring example: 2-wire circuit"
                loading="lazy"
                width="600"
                height="400"
                decoding="async"
              >
              <div class="plc-caption">RTD wiring example (2-wire).</div>
            </div>
          </div>

          <div class="plc-col">
            <div class="plc-wirecard">
              <img
                src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/wiring_rtd2.png"
                alt="RTD wiring example: 3-wire circuit"
                loading="lazy"
                width="600"
                height="400"
                decoding="async"
              >
              <div class="plc-caption">RTD wiring example (3-wire).</div>
            </div>
          </div>
        </div>
      </div>

      <hr class="plc-hr">

      <!-- -------- UI -------- -->
      <h3 id="user-interface"><strong>User Interface</strong></h3>
      <div class="plc-tablewrap">
        <table class="table table-bordered o_table">
          <caption>User Interface Components</caption>
          <thead>
            <tr><th scope="col">Component</th><th scope="col">Quantity</th><th scope="col">Control</th><th scope="col">Description</th></tr>
          </thead>
          <tbody>
            <tr><th scope="row">Front Panel Buttons</th><td>4</td><td>PCF8574A:0-3</td><td>Tactile buttons for local control</td></tr>
            <tr><th scope="row">User LEDs</th><td>3</td><td>PCF8574A:4-6</td><td>Configurable indicator LEDs</td></tr>
            <tr><th scope="row">Status LED</th><td>1</td><td>PCF8574A:7</td><td>System status indicator</td></tr>
            <tr><th scope="row">OLED Display</th><td>1</td><td>I²C (0x3C)</td><td>128×64 pixel SH1106 display</td></tr>
            <tr><th scope="row">Buzzer</th><td>1</td><td>GPIO2</td><td>Audible alarm/notification</td></tr>
          </tbody>
        </table>
      </div>

      <p><strong>Features:</strong></p>
      <ul>
        <li>Buttons can be mapped to toggle relays, trigger scenes, or custom actions</li>
        <li>LEDs can show relay status, system state, or custom patterns</li>
        <li>OLED displays time, sensor readings, and system status</li>
        <li>Buzzer provides audible feedback for alarms or notifications</li>
      </ul>

      <hr class="plc-hr">

      <!-- ===================== COMMUNICATION & PROTOCOLS ===================== -->
      <div class="plc-subsection">
        <h3 id="communication-protocols"><strong>Communication &amp; Protocols</strong></h3>

        <ul class="plc-list">
          <li><strong>Modbus RTU (RS-485)</strong> – UART-based communication for expansion modules and field devices</li>
          <li><strong>Wi-Fi</strong> – ESP32 integrated (Improv onboarding supported)</li>
          <li><strong>Ethernet</strong> – Optional via LAN8720 PHY</li>
        </ul>

        <h4 id="rs-485-communication-modbus-rtu"><strong>RS-485 Communication (Modbus RTU)</strong></h4>

        <p>
          The MiniPLC provides a <strong>half-duplex RS-485 interface</strong> with
          integrated protection and fail-safe biasing.
          The interface is available on the <strong>A / B / COM</strong> terminals.
        </p>

        <p><strong>Hardware Features:</strong></p>
        <ul class="plc-list">
          <li>RS-485 transceiver: <strong>MAX485</strong> (half-duplex)</li>
          <li>Fail-safe biasing network on A/B (idle state defined)</li>
          <li>Common-mode choke for EMI suppression</li>
          <li>TVS surge and ESD protection on A/B/COM</li>
          <li>Resettable PTC fuses on A and B lines</li>
          <li>Bidirectional logic level shifting between MCU and transceiver</li>
        </ul>

        <h4 id="rs-485-wiring"><strong>RS-485 Wiring</strong></h4>
        <div class="plc-grid">
          <div class="plc-col">
            <div class="plc-wirecard">
              <img
                src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/wiring_rs485_1.png"
                alt="RS-485 wiring example: bus connection (A/B/COM)"
                loading="lazy"
                width="600"
                height="400"
                decoding="async"
              >
              <div class="plc-caption">
                Connect <strong>A</strong>, <strong>B</strong>, and <strong>COM</strong> to the bus.
              </div>
            </div>
          </div>

          <div class="plc-col">
            <div class="plc-wirecard">
              <img
                src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/Images/wiring_rs485_2.png"
                alt="RS-485 wiring example with 120 ohm termination"
                loading="lazy"
                width="600"
                height="400"
                decoding="async"
              >
              <div class="plc-caption">
                Add <strong>120Ω termination</strong> only at the two physical ends of the bus.
              </div>
            </div>
          </div>
        </div>

        <h4 id="termination-biasing"><strong>Termination &amp; Biasing</strong></h4>
        <ul class="plc-list">
          <li>Terminate with <strong>120 Ω</strong> only at the two ends of the line.</li>
          <li>Do not terminate intermediate devices.</li>
          <li>Fail-safe biasing is already provided inside the MiniPLC.</li>
        </ul>

        <h4 id="com-reference-ground"><strong>COM / Reference Ground</strong></h4>
        <ul class="plc-list">
          <li>Connect <strong>COM</strong> between all RS-485 nodes.</li>
          <li>This limits common-mode voltage and prevents communication faults.</li>
        </ul>

        <h4 id="power-supply-extension-modules"><strong>Power Supply for Extension Modules</strong></h4>
        <ul class="plc-list">
          <li><strong>Recommended:</strong> Use the <strong>same power supply</strong> for MiniPLC and all RS-485 extension modules.</li>
          <li>Distribute power in a <strong>star topology</strong> from the PSU.</li>
          <li>If separate PSUs are used, connect <strong>0V references together at one point</strong>
            (unless the extension module is galvanically isolated).</li>
        </ul>

        <p class="plc-caption">
          A common 0V reference prevents RS-485 common-mode voltage errors and communication faults.
        </p>

        <p class="plc-caption plc-callout plc-callout--info" style="margin-top:10px;">
          <strong>Tip:</strong> Cable recommendations, shield bonding, and routing rules are defined in the
          <strong>Cable Recommendations &amp; Shield Grounding</strong> section below.
        </p>
      </div>

      <hr class="plc-hr">

      <!-- ===================== CABLE RECOMMENDATIONS & SHIELD GROUNDING ===================== -->
      <div class="plc-subsection">
        <h3 id="cable-recommendations-shield-grounding"><strong>Cable Recommendations &amp; Shield Grounding</strong></h3>

        <p class="plc-caption">
          This section applies to <strong>Analog (0–10V)</strong>, <strong>Temperature (RTD / 1-Wire)</strong>, and <strong>RS-485</strong>.
          Use shielded, twisted constructions and bond shields correctly to reduce EMI and ground-loop issues.
        </p>

        <h4 id="general-routing-rules"><strong>General Routing Rules</strong></h4>
        <ul class="plc-list">
          <li>Route low-level signal cables (Analog/RTD/1-Wire/RS-485) separately from mains, relay outputs, contactors, VFD motor cables, and power wiring.</li>
          <li>If crossing power cables is unavoidable, cross at <strong>90°</strong>.</li>
          <li>Keep cable runs as short as practical and avoid parallel runs with high-current conductors.</li>
        </ul>

        <h4 id="analog-0-10v-cable"><strong>Analog (0–10V) Cable</strong></h4>
        <ul class="plc-list">
          <li><strong>Construction:</strong> twisted pair (Signal + GND) per channel</li>
          <li><strong>Shielding:</strong> overall shield (standard) or individually shielded pairs (high-EMI)</li>
          <li><strong>Examples:</strong> <strong>J-Y(ST)Y</strong> (overall shield) or <strong>LI2YCY PIMF</strong> (shielded twisted pairs; one pair per channel)</li>
        </ul>

        <h4><strong>Temperature Cable</strong></h4>
        <h5><strong>RTD (PT100/PT1000)</strong></h5>
        <ul class="plc-list">
          <li><strong>Recommended:</strong> shielded multi-core for 2/3-wire; shielded pairs for best accuracy (4-wire)</li>
          <li><strong>Examples:</strong> <strong>J-Y(ST)Y</strong> (overall shield) or <strong>LI2YCY PIMF</strong> (pairs; e.g. 2×2×0.50 for 4-wire)</li>
        </ul>

        <h5><strong>1-Wire (DS18B20)</strong></h5>
        <ul class="plc-list">
          <li><strong>Recommended:</strong> shielded 3-core ( +5V / DATA / GND ) for typical installations</li>
          <li><strong>High-EMI / long runs:</strong> shielded pairs + overall shield (e.g. <strong>LI2YCY PIMF 2×2×0.50</strong>)</li>
          <li><strong>Topology:</strong> daisy-chain (bus). Avoid star wiring.</li>
          <li><strong>Stubs:</strong> keep sensor stubs ≤ <strong>0.5&nbsp;m</strong>.</li>
          <li><strong>Pull-up (DATA):</strong> <strong>4.7&nbsp;kΩ</strong> typical; <strong>2.2–3.3&nbsp;kΩ</strong> for long/heavy loads.</li>
        </ul>

        <h4 id="rs-485-cable"><strong>RS-485 Cable</strong></h4>
        <ul class="plc-list">
          <li><strong>Construction:</strong> twisted pair for <strong>A/B</strong></li>
          <li><strong>Characteristic impedance:</strong> <strong>120 Ω</strong> (recommended)</li>
          <li><strong>Shielding:</strong> overall shield is recommended in cabinets; use individually shielded pairs + overall shield in high-EMI</li>
          <li><strong>Examples:</strong> <strong>J-Y(ST)Y 2×2×0.5 mm²</strong> or <strong>LI2YCY PiMF 2×2×0.50</strong></li>
          <li>Use one twisted pair for <strong>A/B</strong>. Use the second pair for <strong>COM (0V reference)</strong> or spare.</li>
        </ul>

        <h4 id="shield-grounding"><strong>Shield Grounding</strong></h4>
        <ul class="plc-list">
          <li><strong>Default recommendation:</strong> bond cable shield(s) to cabinet <strong>PE/EMC ground at the PLC end only</strong>.</li>
          <li><strong>Do not</strong> connect shields to signal terminals (AI/AO/RTD/1-Wire/RS-485 A/B/COM).</li>
          <li>If both ends are in equipotential bonded cabinets, shields may be bonded at both ends using proper 360° clamps.</li>
        </ul>
      </div>

      <hr class="plc-hr">

      <!-- ===================== System Architecture & Pinout ===================== -->
      <h2 id="system-architecture-pinout"><strong>System Architecture &amp; Pinout</strong></h2>

      <div class="plc-grid">
        <div class="plc-col">
          <div class="plc-wirecard">
            <img
              src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/system_block_diagram.png"
              alt="ESP32 MiniPLC System Block Diagram"
              loading="lazy"
              width="800"
              height="600"
              decoding="async"
            >
            <div class="plc-caption">System block diagram showing internal architecture and interfaces.</div>
          </div>
        </div>
        <div class="plc-col">
          <div class="plc-wirecard">
            <img
              src="https://cdn.jsdelivr.net/gh/isystemsautomation/HOMEMASTER/MiniPLC/pinout.png"
              alt="ESP32 MiniPLC Pinout Diagram"
              loading="lazy"
              width="800"
              height="600"
              decoding="async"
            >
            <div class="plc-caption">Complete GPIO and connector pin assignments.</div>
          </div>
        </div>
      </div>

    </div><!-- /Inputs & Outputs -->

    <!-- ===================== COMPLIANCE & CERTIFICATIONS ===================== -->
    <div class="plc-section">
      <h2 id="compliance-certifications">Compliance &amp; Certifications</h2>

      <p>
        The HomeMaster MiniPLC is designed to comply with the applicable European Union directives.
        <strong>ISYSTEMS AUTOMATION</strong> (HomeMaster brand) maintains the technical documentation and a signed EU Declaration of Conformity (DoC).
      </p>

      <h3>EU Directives</h3>
      <p>
        <strong>EMC</strong> 2014/30/EU · <strong>LVD</strong> 2014/35/EU · <strong>RED</strong> 2014/53/EU · <strong>RoHS</strong> 2011/65/EU
      </p>

      <h3>Harmonised Standards</h3>
      <table class="plc-table-compact">
        <tr><th scope="col">Area</th><th scope="col">Standards</th></tr>
        <tr><td><strong>EMC</strong></td><td>EN 55032 (Emissions) · EN 55035 (Immunity)</td></tr>
        <tr><td><strong>Electrical Safety</strong></td><td>EN 62368-1</td></tr>
        <tr><td><strong>Radio (Wi-Fi)</strong></td><td>EN 300 328 · EN 301 489-1 · EN 301 489-17</td></tr>
        <tr><td><strong>RoHS</strong></td><td>EN IEC 63000</td></tr>
      </table>

      <h3>Equipment Classification</h3>
      <p>
        <strong>Class A Information Technology Equipment</strong> (industrial / commercial environment)
      </p>

      <h3>Radio</h3>
      <p>
        The product integrates a pre-certified ESP32 2.4 GHz Wi-Fi radio module.
        Final conformity with the Radio Equipment Directive (RED) is demonstrated by the conformity assessment of the complete apparatus and the maintained technical documentation.
      </p>

      <h3>Safety Notice</h3>
      <p>
        <strong>L / N:</strong> hazardous voltage · <strong>24 V DC:</strong> SELV · Qualified personnel only
      </p>
    </div>
  </div><!-- /plc-wrap -->
</div><!-- /hm-plc -->

</body>
</html>
